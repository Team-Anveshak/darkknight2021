{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/akshat/Anveshak/touchpad/frontend/guifrontend/src/Nodes.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\n\nasync function addNode(name, scommand, kcommand) {\n  let promise = new Promise(function (resolve, reject) {\n    fetch(\"http://localhost:5000/api/addnode?nodename=\" + name + \"&scommand=\" + scommand + \"&kcommand=\" + kcommand).then(res => {\n      if (res.ok) {\n        console.log(\"added node\");\n        resolve(true);\n      } else {\n        alert(\"Error in adding node!\");\n        resolve(false);\n      }\n    });\n  });\n  let result = await promise;\n  return result;\n}\n\nasync function deleteNode(name) {\n  let promise = new Promise(function (resolve, reject) {\n    fetch(\"http://localhost:5000/api/deletenode?nodename=\" + name).then(res => {\n      if (res.ok) {\n        resolve(true);\n      } else {\n        alert(\"Error in deleting node!\");\n        resolve(false);\n      }\n    });\n  });\n  let result = await promise;\n  return result;\n}\n\nasync function startNode(name) {\n  let promise = new Promise(function (resolve, reject) {\n    fetch(\"http://localhost:5000/api/startnode?nodename=\" + name).then(res => {\n      if (res.ok) {\n        resolve(true);\n      } else {\n        alert(\"Error in starting node!\");\n        resolve(false);\n      }\n    });\n  });\n  let result = await promise;\n  return result;\n}\n\nasync function killNode(name) {\n  let promise = new Promise(function (resolve, reject) {\n    fetch(\"http://localhost:5000/api/killnode?nodename=\" + name).then(res => {\n      if (res.ok) {\n        resolve(true);\n      } else {\n        alert(\"Error in starting node!\");\n        resolve(false);\n      }\n    });\n  });\n  let result = await promise;\n  return result;\n}\n\nasync function fetchNodes() {\n  let promise = new Promise(function (resolve, reject) {\n    fetch(\"http://localhost:5000/api/nodes\").then(res => {\n      if (res.ok) {\n        console.log(\"nodes fetched\");\n        res.json().then(result => {\n          resolve(result);\n        });\n      } else {\n        alert(\"Error in adding node!\");\n        resolve([]);\n      }\n    });\n  });\n  let result = await promise;\n  return result;\n}\n\nfunction Nodes() {\n  _s();\n\n  const [nodes, setNodes] = useState([]);\n\n  function fetchNodesUI() {\n    fetchNodes().then(nodes => {\n      setNodes(nodes);\n    });\n  }\n\n  useEffect(() => {\n    fetchNodesUI();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"nodes\",\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Nodes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 43\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 34\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(NodesView, {\n      nodes: nodes,\n      rerender: () => {\n        fetchNodesUI();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(NodeForm, {\n      rerender: () => {\n        fetchNodesUI();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 11\n  }, this);\n}\n\n_s(Nodes, \"WUrlQwkt2hRsXfXQaHeAmoRH5jU=\");\n\n_c = Nodes;\n\nfunction NodesView(props) {\n  let statuses = {};\n  let nodeList = [];\n  props.nodes.forEach(node => {\n    nodeList.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: node[0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: node[1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: node[2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 59\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        onClick: () => {\n          startNode(node[0]).then(() => {\n            console.log(\"started\");\n          });\n        },\n        children: \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 77\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        onClick: () => {\n          killNode(node[0]).then(() => {\n            console.log(\"killed\");\n          });\n        },\n        children: \"Stop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: statuses[node[0]]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 19\n    }, this));\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"styled-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Node\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Start Command\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Kill Command\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Start Node\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 67\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Kill Node\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 86\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 104\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: nodeList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 7\n  }, this);\n}\n\n_c2 = NodesView;\n\nfunction NodeForm(props) {\n  _s2();\n\n  let normalButton = /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => {\n      addNodeFromForm();\n    },\n    children: \"Add Node + \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 22\n  }, this);\n\n  let disabledButton = /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => {\n      addNodeFromForm();\n    },\n    disabled: true,\n    children: \"Adding...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 24\n  }, this);\n\n  const [button, setButton] = useState(normalButton);\n\n  function addNodeFromForm() {\n    let nodename = document.getElementById(\"NodeName\").value;\n    let scommand = document.getElementById(\"NodeStartCommand\").value;\n    let kcommand = document.getElementById(\"NodeKillCommand\").value;\n    addNode(nodename, scommand, kcommand).then(res => {\n      if (res) {\n        setButton(normalButton);\n        props.rerender();\n      }\n    });\n    setButton(disabledButton);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"nodeForm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add a Node\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"NodeName\",\n      placeholder: \"Name of the node\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 74\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"NodeStartCommand\",\n      placeholder: \"Command to start the node\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 91\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"NodeKillCommand\",\n      placeholder: \"Command to kill the node\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 89\n    }, this), button]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 10\n  }, this);\n}\n\n_s2(NodeForm, \"/+yRqKJ1Teb0Z6zQevqljHfXngY=\");\n\n_c3 = NodeForm;\nexport default Nodes;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Nodes\");\n$RefreshReg$(_c2, \"NodesView\");\n$RefreshReg$(_c3, \"NodeForm\");","map":{"version":3,"sources":["/home/akshat/Anveshak/touchpad/frontend/guifrontend/src/Nodes.js"],"names":["useState","useEffect","addNode","name","scommand","kcommand","promise","Promise","resolve","reject","fetch","then","res","ok","console","log","alert","result","deleteNode","startNode","killNode","fetchNodes","json","Nodes","nodes","setNodes","fetchNodesUI","NodesView","props","statuses","nodeList","forEach","node","push","NodeForm","normalButton","addNodeFromForm","disabledButton","button","setButton","nodename","document","getElementById","value","rerender"],"mappings":"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","sourcesContent":["import {useState, useEffect} from 'react';\n\nasync function addNode(name,scommand,kcommand)\n{\n  let promise = new Promise(function(resolve, reject) {\n    \n  \n    fetch(\"http://localhost:5000/api/addnode?nodename=\"+name+\"&scommand=\"+scommand+\"&kcommand=\"+kcommand).then((res)=>{\n\n        if(res.ok)\n        {\n          console.log(\"added node\")\n           resolve(true) \n        }\n        else{\n         \n          alert(\"Error in adding node!\")\n          resolve(false) \n        }\n\n\n    })\n\n  });\n\n  let result = await promise\n  return result\n\n\n\n}\nasync function deleteNode(name)\n{\n\n  let promise = new Promise(function(resolve, reject) {\n    \n  \n    fetch(\"http://localhost:5000/api/deletenode?nodename=\"+name).then((res)=>{\n\n        if(res.ok)\n        {\n           resolve(true) \n        }\n        else{\n         \n          alert(\"Error in deleting node!\")\n          resolve(false) \n        }\n\n\n    })\n\n  });\n\n  let  result = await promise\n  return result\n\n\n}\nasync function startNode(name)\n{\n  let promise = new Promise(function(resolve, reject) {\n    \n  \n    fetch(\"http://localhost:5000/api/startnode?nodename=\"+name).then((res)=>{\n\n        if(res.ok)\n        {\n            resolve(true) \n        }\n        else{\n         \n          alert(\"Error in starting node!\")\n          resolve(false) \n        }\n\n\n    })\n\n  });\n\n  let result = await promise\n  return result\n\n\n}\nasync function killNode(name)\n{\n  let promise = new Promise(function(resolve, reject) {\n    \n  \n    fetch(\"http://localhost:5000/api/killnode?nodename=\"+name).then((res)=>{\n\n        if(res.ok)\n        {\n            resolve(true) \n        }\n        else{\n         \n          alert(\"Error in starting node!\")\n          resolve(false) \n        }\n\n\n    })\n\n  });\n\n  let result = await promise\n  return result\n\n\n}\nasync function fetchNodes()\n{\n  let promise = new Promise(function(resolve, reject) {\n    \n  \n    fetch(\"http://localhost:5000/api/nodes\").then((res)=>{\n     \n        if(res.ok)\n        {\n            console.log(\"nodes fetched\")\n            res.json().then((result)=>{\n                resolve(result)\n            });\n             \n        }\n        else{\n         \n          alert(\"Error in adding node!\")\n          resolve([]) \n        }\n\n\n    })\n\n  });\n\n  let result = await promise\n  return result\n\n}\n\n\n\nfunction Nodes()\n{\n  const [nodes,setNodes] = useState([])\n  function fetchNodesUI()\n  {\n    fetchNodes().then((nodes)=>{\n      \n        setNodes(nodes)\n    });\n  }\n\n  useEffect(()=>{fetchNodesUI()},[]);\n\n\n  return (<div className=\"nodes\"><center> <h2>Nodes</h2> </center>\n\n    <br />\n    <NodesView nodes={nodes} rerender={()=>{fetchNodesUI()}}/>\n    <NodeForm rerender={()=>{fetchNodesUI()}} />\n\n\n  </div>);\n}\n\n\n\nfunction NodesView(props)\n{\n  let statuses = {}\n  let nodeList = []\n  props.nodes.forEach((node)=>{\n\n    nodeList.push(<tr><td>{node[0]}</td><td>{node[1]}</td><td>{node[2]}</td><td onClick={()=>{\n\n      startNode(node[0]).then(()=>{\n\n            console.log(\"started\")\n\n      })\n      \n\n    }}>Start</td><td onClick={()=>{\n\n      killNode(node[0]).then(()=>{\n\n            console.log(\"killed\")\n\n      })\n      \n\n    }}>Stop</td><td>{statuses[node[0]]}</td></tr>)\n\n  })\n\n  return(\n      <div>\n        <table className=\"styled-table\">\n        <thead>\n        <tr>\n          \n          <th>Node</th><th>Start Command</th><th>Kill Command</th><th>Start Node</th><th>Kill Node</th><th>Status</th>\n          \n        </tr>\n        </thead>\n        <tbody>\n        {nodeList}\n        </tbody>\n        </table>\n \n\n      </div>\n\n\n\n  );\n\n}\n\n\n\n\nfunction NodeForm(props)\n{\n  let normalButton = <button onClick={()=>{addNodeFromForm()}}>Add Node + </button>\n  let disabledButton = <button onClick={()=>{addNodeFromForm()}} disabled>Adding...</button>\n  \n  const [button,setButton] = useState(normalButton)\n  function addNodeFromForm()\n  {\n   \n    let nodename = document.getElementById(\"NodeName\").value;\n    let scommand = document.getElementById(\"NodeStartCommand\").value;\n    let kcommand = document.getElementById(\"NodeKillCommand\").value;\n    addNode(nodename,scommand,kcommand).then((res)=>{\n        if(res)\n        {\n            setButton(normalButton)\n            props.rerender()\n        }\n    });\n    setButton(disabledButton)\n\n\n  }\n \n  return(<div className=\"nodeForm\">\n\n\n      <h3>Add a Node</h3>\n\n\n      <input type=\"text\" id=\"NodeName\" placeholder=\"Name of the node\" /> <br />\n      <input type=\"text\" id=\"NodeStartCommand\" placeholder=\"Command to start the node\" /> <br />\n      <input type=\"text\" id=\"NodeKillCommand\" placeholder=\"Command to kill the node\" /> <br />\n    \n      {button}\n      \n      \n\n\n\n  </div>)\n}\nexport default Nodes;"]},"metadata":{},"sourceType":"module"}